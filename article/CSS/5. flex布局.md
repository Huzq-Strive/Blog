[flex布局](https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox)

### 概念

Flexible Box 模型，通常被称为 flexbox，是一种一维的布局模型。它给 flexbox 的子元素之间提供了强大的空间分布和对齐能力。本文给出了 flexbox 的主要特性，更多的细节将在别的文档中探索。

我们说 flexbox 是一种一维的布局，是因为一个 flexbox 一次只能处理一个维度上的元素布局，一行或者一列。作为对比的是另外一个二维布局 [CSS Grid Layout](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout)，可以同时处理行和列上的布局。



### 两根轴线 

#### 主轴和交叉轴

讲到 `主轴` 和 `交叉轴` 我们就得先提一个 `flex` 的属性 `flex-direction` 

```css
flex-direction: row; {/*default*/}
flex-direction: row-reverse;

flex-direction: column;
flex-direction: column-reverse;
```

当使用 `row` 和 `row-reverse` 时， `主轴` 为横向，而 `交叉轴` 为纵向。

当使用 `colum` 和 `colum-reverse` 时， `主轴` 为纵向，而 `交叉轴` 为横向。



#### 起始线和终止线（有问题，需要解决）

**问题： 书写英文跟阿拉伯文。**

同时在这里我们还要提到  `起始线和终止线` 

如果 `flex-direction` 是 `row`

- 我是在书写英文，主轴的起始线是左边，终止线是右边
- 我在书写阿拉伯文，交叉轴的起始线是顶部，终止线是底部



### flex容器

- 创建

```javascript
<div class='box'>
  <div>one</div>
  <div>two</div>
  <div>three</div>
</div>
```



```css
.box{
  display: flex;
  {/*display: inline-flex;*/}
}
```

创建之后，容器中的子元素 都有下列行为：

- 元素排列为一行 (`flex-direction` 属性的初始值是 `row`)。
- 元素从主轴的起始线开始。
- 元素不会在主维度方向拉伸，但是可以缩小。
- 元素被拉伸来填充交叉轴大小。
- [`flex-basis`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis) 属性为 `auto。`
- [`flex-wrap`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-wrap) 属性为 `nowrap。`

这会让你的元素呈线形排列，并且把自己的大小作为主轴上的大小。如果有太多元素超出容器，它们会溢出而不会换行。如果一些元素比其他元素高，那么元素会沿交叉轴被拉伸来填满它的大小。



### 改变flex方向的flex-direction

这个属性可以让我们更改 `flex` 元素的排列方向

```css
.box {
  display: flex;
  flex-direction: row-reverse;
}
```

`row-reverse` 可以让元素沿着行的方向显示，但是起始线和终止线位置会交换

如果设置为 `column` ，主轴和交叉轴交换，元素沿着列的方向排列显示，改为 `column-reverse` ，起始线和终止线交换。



### 用flex-wrap实现多行flex容器

```css
.box {
  display: flex;
  flex-wrap: wrap; {/*nowrap is default*/}
}
```

- 如果默认情况下，它们将会缩小以适应容器，因为它们使用的是允许缩小的初始`Flexbox`值如果项目的子元素无法缩小，使用`nowrap`会导致溢出，或者缩小程度还不够小。

- `wrap` 如果您的项目太大而无法全部显示在一行中，则会换行显示。 

### 简写属性 flex-flow

可以将 `flex-direction` 和 `flex-wrap` 两个属性组合为一个 `flex-flow`  

第一个为 `flex-direction` 第二个值为 `flex-wrap`

```css
.box {
  display: flex;
  flex-flow: row wrap;
}
```



### flex元素上的属性

为了更好地控制 flex 元素，有三个属性可以作用于它们：

- [`flex-grow`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-grow)
- [`flex-shrink`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-shrink)
- [`flex-basis`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis)

在这里，我们只会大概介绍一下它们的用法，更详细的细节请参阅其它的文章。

在考虑这几个属性的作用之前，需要先了解一下 **可用空间** available space 这个概念。这几个 flex 属性的作用其实就是改变了 flex 容器中的可用空间的行为。同时，可用空间对于 flex 元素的对齐行为也是很重要的。

假设在 1 个 500px 的容器中，我们有 3 个 100px 宽的元素，那么这 3 个元素需要占 300px 的宽，剩下 200px 的可用空间。在默认情况下， flexbox 的行为会把这 200px 的空间留在最后一个元素的后面。

![This flex container has available space after laying out the items.](https://mdn.mozillademos.org/files/15620/Basics7.png)

如果期望这些元素能自动地扩展去填充满剩下的空间，那么我们需要去控制可用空间在这几个元素间如何分配，这就是元素上的那些 `flex` 属性要做的事。 



#### flex-basis

定义了该元素的 空间大小，flex容器里除了元素所占的空间以外的富余空间就是**可用空间** available space。 该属性的默认值是 `auto` 。此时，浏览器会检测这个元素是否具有确定的尺寸。 在上面的例子中, 所有元素都设定了宽度（width）为100px，所以 `flex-basis` 的值为100px。

如果没有给元素设定尺寸，`flex-basis` 的值采用元素内容的尺寸。这就解释了：我们给只要给Flex元素的父元素声明 `display: flex` ，所有子元素就会排成一行，且自动分配小大以充分展示元素的内容。



#### flex-grow

`flex-grow` 若被赋值为一个正整数， flex 元素会以 `flex-basis` 为基础，沿主轴方向增长尺寸。这会使该元素延展，并占据此方向轴上的可用空间（available space）。如果有其他元素也被允许延展，那么他们会各自占据可用空间的一部分。

如果我们给上例中的所有元素设定 `flex-grow` 值为1， 容器中的可用空间会被这些元素平分。它们会延展以填满容器主轴方向上的空间。

flex-grow 属性可以按比例分配空间。如果第一个元素 `flex-grow` 值为2， 其他元素值为1，则第一个元素将占有2/4（上例中，即为 200px 中的 100px）, 另外两个元素各占有1/4（各50px）。



#### Flex-shrink

`flex-grow`属性是处理flex元素在主轴上增加空间的问题，相反`flex-shrink`属性是处理flex元素收缩的问题。如果我们的容器中没有足够排列flex元素的空间，那么可以把flex元素`flex-shrink`属性设置为正整数来缩小它所占空间到`flex-basis`以下。与`flex-grow属性一`样，可以赋予不同的值来控制flex元素收缩的程度 —— 给`flex-shrink`属性赋予更大的数值可以比赋予小数值的同级元素收缩程度更大。

在计算flex元素收缩的大小时，它的最小尺寸也会被考虑进去，就是说实际上flex-shrink属性可能会和flex-grow属性表现的不一致。因此，我们可以在文章《[控制Flex子元素在主轴上的比例](https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout/Controlling_Ratios_of_Flex_Items_Along_the_Main_Ax)》中更详细地看一下这个算法的原理。



### flex属性的简写

你可能很少看到 `flex-grow`，`flex-shrink`，和 `flex-basis` 属性单独使用，而是混合着写在 [`flex`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex) 简写形式中。 `Flex` 简写形式允许你把三个数值按这个顺序书写 — `flex-grow`，`flex-shrink`，`flex-basis`。

你可以在下面的实例中尝试把flex简写形式中的数值更改为不同数值，但要记得第一个数值是 `flex-grow`。赋值为正数的话是让元素增加所占空间。第二个数值是`flex-shrink` — 正数可以让它缩小所占空间，但是只有在flex元素总和超出主轴才会生效。最后一个数值是 `flex-basis`；flex元素是在这个基准值的基础上缩放的。

```javascript
      <div class="box">
        <div class="one">One</div>
        <div class="two">Two</div>
        <div class="three">Three</div>
      </div>
```



```css
.box{
  display: flex
}
      .one {
        flex: 1 1 auto;
      }

      .two {
        flex: 1 1 auto;
      }

      .three {
        flex: 1 1 auto;
      }
```



### 元素间的对齐和空间分配

> Flexbox的一个关键特性是能够设置flex元素沿主轴方向和交叉轴方向的对齐方式，以及它们之间的空间分配。

#### align-items

[`align-items`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/align-items) 属性可以使元素在交叉轴方向对齐。

这个属性的初始值为`stretch`，这就是为什么flex元素会默认被拉伸到最高元素的高度。实际上，它们被拉伸来填满flex容器 —— 最高的元素定义了容器的高度。

你也可以设置`align-items`的值为`flex-start`，使flex元素按flex容器的顶部对齐, `flex-end` 使它们按flex容器的下部对齐, 或者`center`使它们居中对齐. 在实例中尝试——我给出了flex容器的高度，以便你可以看到元素在容器中移动。看看如果更改 align-items的值为下列值会发生什么：

- `stretch`
- `flex-start`
- `flex-end`
- `center`



#### justify-content

[`justify-content`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/justify-content)属性用来使元素在主轴方向上对齐主轴方向是通过 `flex-direction` 设置的方向。初始值是`flex-start`，元素从容器的起始线排列。但是你也可以把值设置为`flex-end`，从终止线开始排列，或者`center`，在中间排列.

你也可以把值设置为`space-between`，把元素排列好之后的剩余空间拿出来，平均分配到元素之间，所以元素之间间隔相等。或者使用`space-around`，使每个元素的左右空间相等。

在实例中尝试下列`justify-content`属性的值：

- `stretch`
- `flex-start`
- `flex-end`
- `center`
- `space-around`
- `space-between`