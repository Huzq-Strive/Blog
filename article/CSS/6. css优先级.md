## [css优先级](https://zhuanlan.zhihu.com/p/41604775)



### 什么是权重

**权重记忆口诀**：从0开始，一个行内样式+1000，一个id选择器+100，一个属性选择器、class或者伪类+10，一个元素选择器，或者伪元素+1，通配符+0。



### 样式重复多写情况

在css样式表中，同一个CSS样式你写了两次，后面的会覆盖前面的，在开发中基本不会使用。

```css
#box {
 background-color: green;
}
/* 这条生效 */
#box {
 background-color: blue;
}
```

### 不同的权重，权重值高则生效

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>权重高的样式生效</title>
		<style>
			/* 权重值：1 */
			div{
				width: 100px;
				height: 100px;
				background-color: red;
			}
 
			/* 权重值：10 */
			.box2{
				width: 100px;
				height: 100px;
				background-color: yellow;
			}
 
			/* 权重值：100 */
			#box{
				width: 100px;
				height: 100px;
				background-color: green;
			}
		</style>
	</head>
	<body>
		<div id='box' class='box2'></div>
	</body>
</html>
```



`id` 的权重值高于 `class` 选择器、伪类和属性选择器 高于 标签选择器和伪元素选择器 高于 通配符( `*` )选择器。

所以生效的是 `id` 选择器



### !important(提升样式优先级)

!important的作用是提升样式优先级，如果加了这句的样式的优先级是最高的。不过我这里***建议大家一下，!important最好不要使用。\***

```css
div{
	background: blue !important;
}
```

- 单个样式使用时，该优先级是最高的

- 两种样式都使用!important时，权重值大的优先级更高

- **!important应用于简写样式**，子属性也会默认加上important



### 行内、内联和外联样式优先级

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>css优先级</title>
		<link rel='stylesheet' href='css/styles.css'>
		<style>
	        div{
	        	background-color: blue;
	        }
	        #box{
	            background-color: green;
	        }
		</style>
	</head>
	<body>
		<!-- 行内样式生效 -->
		<div id="box" style="background-color: red;width: 100px;height: 100px;"></div>
	</body>
</html>
```

根据权重值来计算，行内样式的权重值最大，所以行内样式生效了。



### 内联和外联样式优先级

- 外联样式写前面，内联样式写后面 (内联样式优先级更高)
- 内联样式写前面，外联样式写后面 (外联样式优先级更高)

***内联样式和外联样式的优先级和加载顺序有关\***





### 样式应用于非目标标签时

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>样式应用于非目标标签时</title>
		<style>
			div p{color: red};
			#box{color: blue}
		</style>
	</head>
	<body>
		<!-- 选中非目标元素的情况下，离目标越近者优先 -->
		<div id="box">
		  <p>
		    <span>神来之笔</span>
		  </p>
		</div>
	</body>
</html>
```

文字显示红色



#### 权重相等的情况下

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>权重相等的情况下</title>
		<style>
			/* 权重值：201 */
			#box #box2 p{
				width: 200px;
				height: 200px;
				background-color: red;
			}
			/* 权重值：201,离目标最近 */
			#box #box3 p{
				width: 200px;
				height: 200px;
				background-color: yellow;
			}
		</style>
	</head>
	<body>
		<!-- 同等权重下,靠近目标的优先 -->
		<div id="box" class="boxs">
			<div id="box2" class="boxs2">
		    	        <div id="box3" class="boxs3">
		      		        <p></p>
		    	        </div>
		 	</div>
		</div>
	</body>
</html>
```







## 总结

- !important > 行内样式 > 内联样式 & 外联样式

- !important > 行内样式(1000) > id 选择器(100) > class 选择器、伪类和属性选择器(10) > 标签选择器和伪元素选择器(1) > 通配符(*)(0)

**七条作者总结**

- 常用选择器的权重优先级：!important > id > class > tag
- !important 可以提升样式优先级，但不建议使用。如果!important被用于一个简写的样式属性，那么这条简写的样式属性所代表的子属性都会被应用上!important。 例如：*background: blue !important;*
- 如果两条样式都使用!important，则权重值高的优先级更高
- 在css样式表中，同一个CSS样式你写了两次，后面的会覆盖前面的
- 样式指向同一元素，权重规则生效，权重大的被应用
- 样式指向同一元素，权重规则生效，权重相同时，就近原则生效，后面定义的被应用
- 样式不指向同一元素时，权重规则失效，就近原则生效，离目标元素最近的样式被应用













